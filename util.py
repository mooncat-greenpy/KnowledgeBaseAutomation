def read_file(path):
    for code in [
        "utf_8",
        "utf_7",
        "utf_16_le",
        "utf_16_be",
        "utf_16",
        "shift_jisx0213",
        "shift_jis_2004",
        "shift_jis",
        "ptcp154",
        "mac_turkish",
        "mac_roman",
        "mac_latin2",
        "mac_iceland",
        "mac_greek",
        "mac_cyrillic",
        "koi8_u",
        "koi8_r",
        "johab",
        "iso8859_15",
        "iso8859_14",
        "iso8859_13",
        "iso8859_10",
        "iso8859_9",
        "iso8859_8",
        "iso8859_7",
        "iso8859_6",
        "iso8859_5",
        "iso8859_4",
        "iso8859_3",
        "iso8859_2",
        "latin_1",
        "iso2022_kr",
        "iso2022_jp_ext",
        "iso2022_jp_3",
        "iso2022_jp_2004",
        "iso2022_jp_2",
        "iso2022_jp_1",
        "iso2022_jp",
        "hz",
        "gb18030",
        "gbk",
        "gb2312",
        "euc_kr",
        "euc_jisx0213",
        "euc_jis_2004",
        "euc_jp",
        "cp1258",
        "cp1257",
        "cp1256",
        "cp1255",
        "cp1254",
        "cp1253",
        "cp1252",
        "cp1251",
        "cp1250",
        "cp1140",
        "cp1026",
        "cp1006",
        "cp950",
        "cp949",
        "cp932",
        "cp875",
        "cp874",
        "cp869",
        "cp866",
        "cp865",
        "cp864",
        "cp863",
        "cp862",
        "cp861",
        "cp860",
        "cp857",
        "cp856",
        "cp855",
        "cp852",
        "cp850",
        "cp775",
        "cp737",
        "cp500",
        "cp437",
        "cp424",
        "cp037",
        "big5hkscs",
        "big5",
        "ascii",
    ]:
        data = ""
        f = open(path, "r", encoding=code)
        try:
            data = f.read()
        except UnicodeDecodeError:
            pass
        f.close()
        if data:
            return data, code
    return "None", "None"
